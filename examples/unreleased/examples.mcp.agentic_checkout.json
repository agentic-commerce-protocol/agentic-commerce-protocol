{
  "create_checkout_session_request": {
    "jsonrpc": "2.0",
    "id": 1,
    "method": "tools/call",
    "params": {
      "name": "create_checkout_session",
      "arguments": {
        "meta": {
          "api_version": "2026-01-30",
          "idempotency_key": "idem_550e8400-e29b-41d4-a716-446655440000",
          "user_agent": "AgentShop/1.0"
        },
        "payload": {
          "currency": "usd",
          "line_items": [
            {
              "id": "item_123"
            }
          ],
          "capabilities": {
            "interventions": {
              "supported": ["3ds", "address_verification"],
              "display_context": "webview",
              "redirect_context": "in_app",
              "max_redirects": 1,
              "max_interaction_depth": 1
            }
          },
          "fulfillment_details": {
            "name": "John Doe",
            "phone_number": "15551234567",
            "email": "johndoe@example.com",
            "address": {
              "name": "John Doe",
              "line_one": "1234 Chat Road",
              "city": "San Francisco",
              "state": "CA",
              "country": "US",
              "postal_code": "94131"
            }
          }
        }
      }
    }
  },

  "create_checkout_session_response": {
    "jsonrpc": "2.0",
    "id": 1,
    "result": {
      "id": "checkout_session_123",
      "protocol": {
        "version": "2026-01-30"
      },
      "capabilities": {
        "payment": {
          "handlers": [
            {
              "id": "card_tokenized",
              "name": "dev.acp.tokenized.card",
              "version": "2026-01-22",
              "spec": "https://acp.dev/handlers/tokenized.card",
              "requires_delegate_payment": true,
              "requires_pci_compliance": false,
              "psp": "stripe",
              "config_schema": "https://acp.dev/schemas/handlers/tokenized.card/config.json",
              "instrument_schemas": [
                "https://acp.dev/schemas/handlers/tokenized.card/instrument.json"
              ],
              "config": {
                "merchant_id": "acct_1234567890",
                "psp": "stripe",
                "accepted_brands": ["visa", "mastercard", "amex"],
                "accepted_funding_types": ["credit", "debit"],
                "supports_3ds": true,
                "environment": "production"
              }
            }
          ]
        },
        "interventions": {
          "supported": ["3ds", "address_verification"],
          "required": [],
          "enforcement": "conditional"
        }
      },
      "status": "ready_for_payment",
      "currency": "usd",
      "line_items": [
        {
          "id": "line_item_123",
          "item": {
            "id": "item_123"
          },
          "quantity": 1,
          "name": "Vintage Denim Jacket",
          "description": "Classic blue denim jacket with brass buttons",
          "unit_amount": 300,
          "totals": [
            { "type": "subtotal", "display_text": "Subtotal", "amount": 300 },
            { "type": "tax", "display_text": "Tax", "amount": 30 },
            { "type": "total", "display_text": "Total", "amount": 330 }
          ]
        }
      ],
      "fulfillment_details": {
        "name": "John Doe",
        "phone_number": "15551234567",
        "email": "johndoe@example.com",
        "address": {
          "name": "John Doe",
          "line_one": "1234 Chat Road",
          "city": "San Francisco",
          "state": "CA",
          "country": "US",
          "postal_code": "94131"
        }
      },
      "fulfillment_options": [
        {
          "type": "shipping",
          "id": "fulfillment_option_123",
          "title": "Standard",
          "description": "Arrives in 4-5 days",
          "carrier": "USPS",
          "totals": [
            { "type": "total", "display_text": "Shipping", "amount": 100 }
          ]
        },
        {
          "type": "shipping",
          "id": "fulfillment_option_456",
          "title": "Express",
          "description": "Arrives in 1-2 days",
          "carrier": "USPS",
          "totals": [
            { "type": "total", "display_text": "Express Shipping", "amount": 500 }
          ]
        }
      ],
      "totals": [
        { "type": "subtotal", "display_text": "Subtotal", "amount": 300 },
        { "type": "tax", "display_text": "Tax", "amount": 30 },
        { "type": "fulfillment", "display_text": "Shipping", "amount": 100 },
        { "type": "total", "display_text": "Total", "amount": 430 }
      ],
      "messages": [],
      "links": [
        {
          "type": "terms_of_service",
          "url": "https://www.testshop.com/terms"
        },
        {
          "type": "privacy_policy",
          "url": "https://www.testshop.com/privacy"
        }
      ]
    }
  },

  "get_checkout_session_request": {
    "jsonrpc": "2.0",
    "id": 2,
    "method": "tools/call",
    "params": {
      "name": "get_checkout_session",
      "arguments": {
        "meta": {
          "api_version": "2026-01-30"
        },
        "id": "checkout_session_123"
      }
    }
  },

  "get_checkout_session_response": {
    "jsonrpc": "2.0",
    "id": 2,
    "result": {
      "id": "checkout_session_123",
      "protocol": {
        "version": "2026-01-30"
      },
      "status": "ready_for_payment",
      "currency": "usd",
      "line_items": [
        {
          "id": "line_item_123",
          "item": { "id": "item_123" },
          "quantity": 1,
          "name": "Vintage Denim Jacket",
          "unit_amount": 300,
          "totals": [
            { "type": "subtotal", "display_text": "Subtotal", "amount": 300 },
            { "type": "tax", "display_text": "Tax", "amount": 30 },
            { "type": "total", "display_text": "Total", "amount": 330 }
          ]
        }
      ],
      "totals": [
        { "type": "subtotal", "display_text": "Subtotal", "amount": 300 },
        { "type": "tax", "display_text": "Tax", "amount": 30 },
        { "type": "fulfillment", "display_text": "Shipping", "amount": 100 },
        { "type": "total", "display_text": "Total", "amount": 430 }
      ],
      "capabilities": {},
      "messages": [],
      "links": []
    }
  },

  "update_checkout_session_request": {
    "jsonrpc": "2.0",
    "id": 3,
    "method": "tools/call",
    "params": {
      "name": "update_checkout_session",
      "arguments": {
        "meta": {
          "api_version": "2026-01-30"
        },
        "id": "checkout_session_123",
        "payload": {
          "selected_fulfillment_options": [
            {
              "type": "shipping",
              "shipping": {
                "option_id": "fulfillment_option_456",
                "item_ids": ["item_123"]
              }
            }
          ]
        }
      }
    }
  },

  "update_checkout_session_response": {
    "jsonrpc": "2.0",
    "id": 3,
    "result": {
      "id": "checkout_session_123",
      "protocol": {
        "version": "2026-01-30"
      },
      "status": "ready_for_payment",
      "currency": "usd",
      "line_items": [
        {
          "id": "line_item_123",
          "item": { "id": "item_123" },
          "quantity": 1,
          "name": "Vintage Denim Jacket",
          "unit_amount": 300,
          "totals": [
            { "type": "subtotal", "display_text": "Subtotal", "amount": 300 },
            { "type": "tax", "display_text": "Tax", "amount": 30 },
            { "type": "total", "display_text": "Total", "amount": 330 }
          ]
        }
      ],
      "selected_fulfillment_options": [
        {
          "type": "shipping",
          "option_id": "fulfillment_option_456",
          "item_ids": ["item_123"]
        }
      ],
      "totals": [
        { "type": "subtotal", "display_text": "Subtotal", "amount": 300 },
        { "type": "tax", "display_text": "Tax", "amount": 30 },
        { "type": "fulfillment", "display_text": "Express Shipping", "amount": 500 },
        { "type": "total", "display_text": "Total", "amount": 830 }
      ],
      "capabilities": {},
      "messages": [],
      "links": []
    }
  },

  "complete_checkout_session_request": {
    "jsonrpc": "2.0",
    "id": 4,
    "method": "tools/call",
    "params": {
      "name": "complete_checkout_session",
      "arguments": {
        "meta": {
          "api_version": "2026-01-30",
          "idempotency_key": "idem_660e8400-e29b-41d4-a716-446655440001"
        },
        "id": "checkout_session_123",
        "payload": {
          "buyer": {
            "first_name": "John",
            "last_name": "Doe",
            "email": "johndoe@example.com"
          },
          "payment_data": {
            "handler_id": "card_tokenized",
            "instrument": {
              "token": "tok_visa_4242"
            }
          }
        }
      }
    }
  },

  "complete_checkout_session_response": {
    "jsonrpc": "2.0",
    "id": 4,
    "result": {
      "id": "checkout_session_123",
      "protocol": {
        "version": "2026-01-30"
      },
      "status": "completed",
      "currency": "usd",
      "line_items": [
        {
          "id": "line_item_123",
          "item": { "id": "item_123" },
          "quantity": 1,
          "name": "Vintage Denim Jacket",
          "unit_amount": 300,
          "totals": [
            { "type": "subtotal", "display_text": "Subtotal", "amount": 300 },
            { "type": "tax", "display_text": "Tax", "amount": 30 },
            { "type": "total", "display_text": "Total", "amount": 330 }
          ]
        }
      ],
      "totals": [
        { "type": "subtotal", "display_text": "Subtotal", "amount": 300 },
        { "type": "tax", "display_text": "Tax", "amount": 30 },
        { "type": "fulfillment", "display_text": "Express Shipping", "amount": 500 },
        { "type": "total", "display_text": "Total", "amount": 830 }
      ],
      "order": {
        "id": "order_789",
        "checkout_session_id": "checkout_session_123",
        "permalink_url": "https://www.testshop.com/orders/order_789"
      },
      "capabilities": {},
      "messages": [],
      "links": []
    }
  },

  "cancel_checkout_session_request": {
    "jsonrpc": "2.0",
    "id": 5,
    "method": "tools/call",
    "params": {
      "name": "cancel_checkout_session",
      "arguments": {
        "meta": {
          "api_version": "2026-01-30"
        },
        "id": "checkout_session_123",
        "payload": {
          "intent_trace": {
            "reason_code": "price_sensitivity",
            "trace_summary": "Buyer found a lower price elsewhere."
          }
        }
      }
    }
  },

  "cancel_checkout_session_response": {
    "jsonrpc": "2.0",
    "id": 5,
    "result": {
      "id": "checkout_session_123",
      "protocol": {
        "version": "2026-01-30"
      },
      "status": "canceled",
      "currency": "usd",
      "line_items": [],
      "totals": [],
      "capabilities": {},
      "messages": [],
      "links": []
    }
  },

  "error_invalid_request": {
    "jsonrpc": "2.0",
    "id": 6,
    "error": {
      "code": -32000,
      "message": "Missing required field: currency",
      "data": {
        "type": "invalid_request",
        "code": "missing_required_field",
        "message": "Missing required field: currency",
        "param": "$.payload.currency"
      }
    }
  },

  "error_payment_declined": {
    "jsonrpc": "2.0",
    "id": 7,
    "error": {
      "code": -32000,
      "message": "Payment declined",
      "data": {
        "type": "processing_error",
        "code": "payment_declined",
        "message": "The payment method was declined. Please try a different payment method."
      }
    }
  }
}
